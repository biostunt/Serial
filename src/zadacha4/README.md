Создать структуру для хранения ключ-значение.
имеет методы вставить и rank()
rank():
Если key присутстыует в таблице ранк,
 то вывести количетво ключей меньших, чем требуемое
 Если key отстутствует, то вывести количество
 ключей меньшее, чем требуемое